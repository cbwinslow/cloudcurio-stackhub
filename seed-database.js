const fs = require('fs').promises;\n\nasync function seedDatabase() {\n  // Check if .env file exists, if not create it\n  try {\n    await fs.access('.env');\n  } catch {\n    console.log('Creating .env file...');\n    await fs.writeFile('.env', 'API_URL=http://localhost:8787\\n');\n  }\n\n  // Load environment variables\n  require('dotenv').config();\n  \n  const apiUrl = process.env.API_URL || 'http://localhost:8787';\n  \n  // Load seed data\n  const seedData = require('./apps/web/src/lib/seed.json');\n  \n  console.log('Seeding database with', seedData.items.length, 'items...');\n  \n  let successCount = 0;\n  let errorCount = 0;\n  \n  for (const item of seedData.items) {\n    try {\n      const response = await fetch(`${apiUrl}/api/items`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...item,\n          tags: Array.isArray(item.tags) ? item.tags.join(', ') : item.tags,\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(`Failed to insert item ${item.id}:`, errorText);\n        errorCount++;\n      } else {\n        console.log(`Inserted item ${item.id}`);\n        successCount++;\n      }\n    } catch (error) {\n      console.error(`Error inserting item ${item.id}:`, error);\n      errorCount++;\n    }\n  }\n  \n  console.log(`Database seeding complete! ${successCount} succeeded, ${errorCount} failed.`);\n  \n  if (errorCount > 0) {\n    console.log('Some items failed to insert. This might be due to duplicates or API not being available.');\n  }\n}\n\nseedDatabase().catch(console.error);